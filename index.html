<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cute Private Gallery</title>
  <style>
  :root {
    --bg: #FFF7F9;
    --card: #fff;
    --accent: #ff86c1;
    --accent2: #ffd9e8;
    --muted: #8b8b9a;
    --glass: rgba(255, 255, 255, 0.6);
    --radius: 18px;
    --gap: 16px;
  }

  * { box-sizing: border-box; }

  /* Nền ảnh mờ */
body {
  margin: 0;
  font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system;
  background: url("https://i.imgur.com/z7aApkr.jpeg") center/cover no-repeat fixed; /* ảnh nền rõ nét */
  color: #222;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 32px;
}
  /* Lớp phủ mờ + hồng nhẹ */
  body::before {
    content: none !important;
    display: none !important;
  }

  /* Toàn bộ nội dung nằm trên lớp mờ */
  .wrap {
    width: 100%;
    max-width: 980px;
    position: relative;
    z-index: 1;
  }

  /* Lock screen */
  .gate {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.95));
    border-radius: 24px;
    padding: 32px;
    box-shadow: 0 8px 30px rgba(255, 132, 184, 0.15);
    display: flex;
    gap: 20px;
    align-items: center;
    backdrop-filter: blur(12px);
    margin: 80px auto; /* căn giữa */
    max-width: 800px;
  }

  .cute {
    width: 140px;
    height: 140px;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 6px 20px rgba(255, 133, 180, 0.15);
    flex-shrink: 0;
  }

  .meta { flex: 1; }
  h1 { margin: 0; font-size: 20px; }
  p.lead { margin: 6px 0 14px; color: var(--muted); }

  .pwrow { display: flex; gap: 8px; }
  input[type="password"] {
    flex: 1;
    padding: 12px 14px;
    border-radius: 12px;
    border: 1px solid rgba(0, 0, 0, 0.06);
    background: var(--glass);
    outline: none;
    font-size: 15px;
  }

  button.btn {
    padding: 12px 16px;
    border-radius: 12px;
    border: 0;
    background: linear-gradient(90deg, var(--accent), #ff6fa9);
    color: #fff;
    font-weight: 600;
    cursor: pointer;
  }

  .hint { font-size: 13px; color: var(--muted); margin-top: 10px; }

  /* Gallery */
  .gallery {
    margin-top: 22px;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 12px;
  }
    /* Gallery container nền trắng không mờ */
.gallery-container {
  background: #ffffff;          /* nền trắng tinh */
  border-radius: 24px;
  padding: 40px;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
  margin: 80px auto;
  max-width: 1000px;
  display: none; /* ẩn mặc định */
}

/* Khi hiển thị (sau khi nhập mật khẩu thành công) */
.gallery-container.show {
  display: block;
}
  .card {
    background: var(--card);
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(12, 12, 20, 0.04);
    cursor: pointer;
    transition: transform .15s;
  }

  .card img { width: 100%; height: 160px; object-fit: cover; display: block; }
  .card:hover { transform: translateY(-6px); }

  /* Lightbox */
  .lightbox {
    position: fixed;
    inset: 0;
    background: rgba(12, 12, 20, 0.7);
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .lightbox.active { display: flex; }
  .lightbox img {
    max-width: 95%;
    max-height: 90%;
    border-radius: 12px;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
  }

  .footer { margin-top: 14px; text-align: center; color: var(--muted); font-size: 13px; }

  @media (max-width: 520px) {
  .cute { display: none; }
  .gate { padding: 20px; }
  .gallery {
    margin-top:22px;
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
    gap:12px;
  }
}

/* --- CSS cánh hoa rơi --- */
.petal {
  position: fixed;
  top: -30px;
  width: 15px;
  height: 15px;
  background-image: url('https://i.imgur.com/yORfn8w.png');
  background-size: cover;
  pointer-events: none;
  opacity: 0.9;
  z-index: 9999;
  animation: fallPetal linear infinite;
}

@keyframes fallPetal {
  0% { transform: translateX(0) rotate(0deg) scale(1); opacity: 0.8; }
  100% { transform: translateX(var(--x,0px)) translateY(100vh) rotate(var(--rot,360deg)) scale(var(--scale,1)); opacity:0.5; }
}
</style>
</head>
<body>
  <div class="wrap">
    <div class="gate" id="gate">
      <div class="cute">
  <img src="https://i.imgur.com/z7aApkr.jpeg" alt="cover" style="width:100%;height:100%;object-fit:cover;border-radius:20px;">
</div>
      <div class="meta">
        <h1>Album lớp 11B2</h1>
        <p class="lead">Nhập mật khẩu để xem album. </p>
        <div class="pwrow">
          <input id="pw" type="password" placeholder="Nhập mật khẩu" aria-label="Mật khẩu" />
          <button class="btn" id="unlock">Mở</button>
        </div>
        <div class="hint"> <code></code> make by Duc Kien.</div>
      </div>
    </div>

    <!-- Gallery (ẩn mặc định) -->
    <div id="galleryRoot" class="gallery-container" hidden>
      <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:12px">
        <h2 style="margin:0">Album của bạn</h2>
        <div style="font-size:14px;color:var(--muted)">Chỉ ai có mật khẩu mới xem</div>
      </div>

      <div class="gallery" id="gallery">
        <!-- Replace the image URLs below with your own direct links -->
        <div class="card"><img src="https://i.imgur.com/ublWsSR.jpeg"></div>
        <div class="card"><img src="https://i.imgur.com/4WmkY9R.jpeg"></div>
        <div class="card"><img src="https://i.imgur.com/Q0KG8op.jpeg"></div>
        <div class="card"><img src="https://i.imgur.com/xYtncPE.jpeg"></div>
        <div class="card"><img src="https://i.imgur.com/lEoa7ed.jpeg"></div>
        <div class="card"><img src="https://i.imgur.com/MfuAZQS.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/KisPT33.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/ftNxe7n.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/J1uceCU.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/1JIaKKd.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/eJCXPMC.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/KlaUikS.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/hQmPolC.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/xaASCe6.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/cLR9e3S.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/acPIGzy.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/qJB7zG1.jpeg"></div>
<div class="card"><img src="https://i.imgur.com/O88Lsn9.jpeg"></div>
      </div>

      <div class="footer">ĐÂY LÀ ẢNH TẬP THỂ LỚP 11B2 </div>
    </div>

    <div class="lightbox" id="lightbox"><img id="lightImg" src=""><button id="closeL" style="position:absolute;top:20px;right:20px;background:none;border:none;color:#fff;font-size:28px;cursor:pointer">✕</button></div>
  </div>

  <script>
  // ---------- SECURITY NOTE ----------
  // This implementation uses a SHA-256 hash comparison in client-side JS.
  // It prevents casual users from seeing the password in plain text inside the file,
  // but it is NOT a substitute for server-side authentication.

  // ===== CONFIGURE PASSWORD HASH HERE =====
  // Replace the value of PASSTARGET with the SHA-256 (hex) of the password you want.
  // Default password (for demo) is: "cutecute"
  const PASSTARGET = '654d223d3b8e92b52e7b3dcf6caa104b85d988980c9d4f9acce31a44d341213e';

  // Utility: convert buffer -> hex
  function buf2hex(buffer) {
    return Array.from(new Uint8Array(buffer))
      .map(b => b.toString(16).padStart(2, '0'))
      .join('');
  }

  async function hashPassword(text) {
    const enc = new TextEncoder();
    const data = enc.encode(text);
    const hash = await crypto.subtle.digest('SHA-256', data);
    return buf2hex(hash);
  }

  // DOM
  const pwInput = document.getElementById('pw');
  const unlock = document.getElementById('unlock');
  const gate = document.getElementById('gate');
  const galleryRoot = document.getElementById('galleryRoot');
  const gallery = document.getElementById('gallery');

  unlock.addEventListener('click', tryOpen);
  pwInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') tryOpen();
  });

  async function tryOpen() {
    const val = pwInput.value || '';
    const h = await hashPassword(val);
    if (h === PASSTARGET) {
      // success
     gate.style.display = 'none';
     galleryRoot.classList.add('show');
      // remove #open from URL so it won't auto-open later
      history.replaceState({}, '', location.pathname);
    } else {
      gate.animate(
        [
          { transform: 'translateX(0)' },
          { transform: 'translateX(-10px)' },
          { transform: 'translateX(10px)' },
          { transform: 'translateX(0)' }
        ],
        { duration: 350 }
      );
      pwInput.value = '';
      pwInput.focus();
    }
  }

  // Lightbox
  const lightbox = document.getElementById('lightbox');
  const lightImg = document.getElementById('lightImg');
  const closeL = document.getElementById('closeL');

  gallery.addEventListener('click', e => {
    const img = e.target.closest('img');
    if (!img) return;
    const src = img.getAttribute('data-full') || img.src;
    lightImg.src = src;
    lightbox.classList.add('active');
  });
  closeL.addEventListener('click', () => {
    lightbox.classList.remove('active');
    lightImg.src = '';
  });
  lightbox.addEventListener('click', e => {
    if (e.target === lightbox) {
      lightbox.classList.remove('active');
      lightImg.src = '';
    }
  });

  // Remove #open on load so the page always asks for password
  if (location.hash === '#open') {
    history.replaceState({}, '', location.pathname);
  }
 // --- Bắt đầu thêm cánh hoa ---
  window.onload = () => {
    const PETAL_COUNT = 25;
    for (let i = 0; i < PETAL_COUNT; i++) {
      const petal = document.createElement('div');
      petal.className = 'petal';
      petal.style.left = Math.random() * window.innerWidth + 'px';
      const scale = 0.5 + Math.random() * 0.8;
      petal.style.setProperty('--scale', scale);
      petal.style.animationDuration = 4 + Math.random() * 4 + 's';
      petal.style.setProperty('--x', (Math.random() * 200 - 100) + 'px');
      petal.style.setProperty('--rot', (Math.random() * 360) + 'deg');
      document.body.appendChild(petal);
      petal.addEventListener('animationiteration', () => {
        petal.style.left = Math.random() * window.innerWidth + 'px';
      });
    }
  };
</script>
